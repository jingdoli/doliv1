<!--
To change this template, choose Tools | Templates
and open the template in the editor.
TODO: 1. update facebook app id.
      2. update color schema.
      3. update font
      4. update about doli book content.
-->
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link href="css/bootstrap.css" type="text/css" rel="stylesheet" media ="screen"/>       
        <link href="css/testcss.css" type="text/css" rel="stylesheet" media ="screen"/>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script src="js/bootstrap.min.js" type="text/javascript"></script>
 
    </head>
    <body>
        <div id="fb-root"></div>
        <script type="text/javascript">
            window.fbAsyncInit = function() {
                FB.init({appId: '149068551791386', status: true, cookie: true, xfbml: true});

                FB.Event.subscribe('auth.login', function(response) {
                    login();
                });
                FB.Event.subscribe('auth.logout', function(response) {
                    logout();
                });

                FB.getLoginStatus(function(response) {
                    if (response.session) {
                        greet();
                    }
                });
            };
            (function() {
                var e = document.createElement('script');
                e.type = 'text/javascript';
                e.src = document.location.protocol +
                    '//connect.facebook.net/en_US/all.js';
                e.async = true;
                document.getElementById('fb-root').appendChild(e);
            }());

            function login(){
                FB.api('/me', function(response) {
                    alert('You have successfully logged in, '+response.name+"!");
                });
            }
            function logout(){
                alert('You have successfully logged out!');
            }
            function greet(){
                FB.api('/me', function(response) {
                    alert('Welcome, '+response.name+"!");
                });
            }

            function setStatus(){
            
                // check if user is logged in:
                FB.getLoginStatus(function(response) {
                  if (response.session) {
                        new_status = document.getElementById('status').value;
                        FB.api(
                          {
                            method: 'status.set',
                            status: new_status
                          },
                          function(response) {
                            if (response == 0){
                                alert('Your facebook status was not updated.');
                            }
                            else{
                                alert('Your facebook status was updated');
                            }
                          }
                        );
                  } else {
                        alert('please log in first :)');
                  }
                });
            
                
            }
        </script>


        <div class="masthead">
                <ul class="nav nav-pills pull-right">
                    <li class="divider-vertical"></li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" href="#" data-toggle="dropdown">Sign In <strong class="caret"></strong></a>
                        <div class="dropdown-menu" style="padding: 15px; padding-bottom: 0px;">
                        <!-- Login form here -->
                            <form action="" method="post" accept-charset="UTF-8">
                                <input id="user_username" style="margin-bottom: 15px;" type="text" name="user[username]" size="30" />
                                <input id="user_password" style="margin-bottom: 15px;" type="password" name="user[password]" size="30" />
                                <input id="user_remember_me" style="float: left; margin-right: 10px;" type="checkbox" name="user[remember_me]" value="1" />
                                <label class="string optional" for="user_remember_me"> Remember me</label>
                        
                                <input class="btn btn-primary" style="clear: left; width: 100%; height: 32px; font-size: 13px;" type="submit" name="commit" value="Sign In" />
                                
                                Or login with facebook account: <fb:login-button autologoutlink='true' perms='email,user_birthday,status_update,publish_stream'></fb:login-button>                           
                            </form>
                        </div>
                    </li>
                    <li><a href="doli-signup.html">Sign Up</a></li>
                    <li><a href="about-doli.html">About Doli</a></li>
                </ul>
                <h3 class="header">Welcome to Doli Diaries</h3>
        </div>
        <hr>
        <div class="night-sky">
            <h1 class="fontface"> Your perfect wedding <br> starts here </h1>
        </div>
        <hr>
        <footer>
            <p>&copy; DoliDiaries 2012</p>
        </footer>
        
        <script type="text/javascript">
            $('.dropdown-menu input, .dropdown-menu label').click(function(e) {
                e.stopPropagation();
            });
        </script>
    </body>
</html>
